# Установка и настройка PostgreSQL

Этот репозиторий содержит скрипты для установки и настройки PostgreSQL версий **15**, **16** или **17** (на выбор).

---

## Важная информация

⚠️ **Внимание!**  
- Версия **15** использует устаревшие библиотеки, которые не поддерживаются на новых системах. Возможны конфликты при установке.
- Скрипты автоматически выполняют полную настройку системы и PostgreSQL для работы с базами данных, оптимизируя их под характеристики вашей системы.

---

## Поддерживаемые системы

Скрипты были протестированы и настроены для работы на **RPM-системах**, таких как:
- Oracle Linux 8
- Oracle Linux 9

---

## Описание скриптов

### `install.sh`
- Устанавливает PostgreSQL выбранной версии.
- Автоматически настраивает систему и PostgreSQL для оптимальной работы.

### `setup.sh`
- Только настраивает уже установленный PostgreSQL.
- Полезен, если PostgreSQL уже установлен в системе, но требуется дополнительная настройка.

---

## Требования

Для работы скриптов необходим файл `.env` с данными для подключения к FTP. Файл должен иметь следующий формат:

```bash
FTP_USER="user"
FTP_PASS="password"
```

---

## Как использовать

Клонировуйте репозиторий

```bash
git clone https://github.com/kayerosaint/postgresql-all.git
```

Создайте файл .env с данными для FTP

**Примечание: Убедитесь, что файл .env находится в той же директории, что и скрипты**

```bash
echo 'FTP_USER="your_username"' > .env
echo 'FTP_PASS="your_password"' >> .env
```

Запустите скрипт install.sh, чтобы установить и настроить PostgreSQL

```bash
sudo ./install.sh
```

(Опционально) Настройка существующего PostgreSQL

```bash
sudo ./setup.sh
```

После завершения установки и настройки, проверьте статус службы PostgreSQL

```bash
sudo systemctl status postgresql
```
---

## Примечания

**Рекомендуемые версии :**

Рекомендуется использовать версии 16 или 17 , так как они лучше поддерживаются на современных системах и имеют меньше проблем с зависимостями.

**Проблемы с версией 15 :**

Если вы выбрали версию 15 , учтите, что она может требовать устаревших библиотек (например, libreadline.so.6). В случае возникновения конфликтов, рассмотрите использование контейнеров (например, Docker) или переход на более новую версию PostgreSQL.

**Настройка системы :**

Скрипты автоматически настраивают параметры ядра (sysctl) и лимиты системы для оптимальной работы PostgreSQL. Убедитесь, что у вас есть права администратора (sudo) для выполнения этих изменений.

**Безопасность :**

Не забудьте защитить файл .env, содержащий данные для FTP. Убедитесь, что он доступен только владельцу:

```bash
chmod 600 .env
```

---

## Лицензия

Этот проект распространяется под лицензией MIT. Вы можете свободно использовать, изменять и распространять его в соответствии с условиями лицензии.
